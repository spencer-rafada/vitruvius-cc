import { screen, render } from '@testing-library/react'
import Overview from '../Overview'
import TopSection from '../TopSection'
import Cards from '../Cards'
import IBook from '@/app/books/Book.types'

describe('Overview', () => {
  describe('Top Section', () => {
    it('should render the title', () => {
      render(<TopSection work={work} book={book} />)
      expect(screen.getByTestId('book-details-top-title')).toBeInTheDocument()
    })
    it('should render the author', () => {
      render(<TopSection work={work} book={book} />)
      expect(screen.getByTestId('book-details-top-author')).toBeInTheDocument()
    })
    it('should render the rating container and the number of ratining', () => {
      render(<TopSection work={work} book={book} />)
      expect(
        screen.getByTestId('book-details-top-rating-container')
      ).toBeInTheDocument()
      expect(
        screen.getByTestId('book-details-top-total-rating')
      ).toBeInTheDocument()
    })
  })
  describe('First Sentence', () => {
    it('should render the first sentence', () => {
      render(<Overview work={work} book={book} />)
      expect(
        screen.getByTestId('book-details-first-sentence')
      ).toBeInTheDocument()
    })
  })
  describe('Cards Section', () => {
    it('should render the publisher date card', () => {
      render(<Cards work={work} book={book} />)
      expect(
        screen.getByTestId('book-details-publisher-date-card')
      ).toBeInTheDocument()
    })
    it('should render the publisher card', () => {
      render(<Cards work={work} book={book} />)
      expect(
        screen.getByTestId('book-details-publisher-card')
      ).toBeInTheDocument()
    })
    it('should render the language card', () => {
      render(<Cards work={work} book={book} />)
      expect(
        screen.getByTestId('book-details-language-card')
      ).toBeInTheDocument()
    })
    it('should render the number of pages card', () => {
      render(<Cards work={work} book={book} />)
      expect(screen.getByTestId('book-details-pages-card')).toBeInTheDocument()
    })
  })
})

const book: IBook = {
  key: '/books/OL37079411M',
  title: 'The Hunger Games',
  language: ['eng'],
  publisher: ['Scholastic Press'],
  publish_date: ['2008-10'],
  isbn: ['9780439023481', '0439023483'],
  number_of_pages_median: 399,
}
const work = {
  key: '/works/OL5735363W',
  title: 'The Hunger Games',
  publish_date: [
    '2013-12-04',
    '2009-09',
    'Sep 30, 2014',
    '2010',
    '2008-10',
    'May 01, 2009',
    'Nov 01, 2018',
    '2012-02',
    '2022',
    '2010?',
    'May 05, 2009',
    '2012',
    '2012-10',
    '2012?',
    'Nov 06, 2014',
    'May 14, 2013',
    '2009',
    '2008-09-14',
    'Feb 07, 2012',
    '2012-06-04',
    'May 10, 2009',
    '2019',
    '2014',
    '2015',
    'May 05, 2010',
    '2018',
    'May 20, 2020',
    'Nov 02, 2009',
    'Oct 29, 2009',
    '2013',
    'Jun 04, 2015',
    '2013-10',
    'Oct 30, 2018',
    'Dec 01, 2018',
    'Oct 18, 2015',
    '2008',
    'Feb 04, 2013',
    '2012-Feb-20',
    'Nov 10, 2014',
    '2012-03',
    '2011-04',
    'Mar 01, 2012',
    'Mar 17, 2008',
    '2011',
    'Mar 07, 2009',
    'Mar 16, 2012',
    'Nov 10, 2021',
    '2012-04',
    '2010-05',
    'Sep 25, 2016',
    'Apr 28, 2012',
  ],
  isbn: [
    '1407157868',
    '9788427225183',
    '9783125781535',
    '1338334921',
    '1417831731',
    '4840146314',
    '9781743629857',
    '9783841501349',
    '9788372783578',
    '9780606262286',
    '9876091654',
    '9788498680614',
    '9781410419866',
    '1536425516',
    '9780545452397',
    '9788804594109',
    '9788499327976',
    '9781407192239',
    '8804594101',
    '9781536425512',
    '6073807848',
    '9780439023528',
    '1743629850',
    '9787506351539',
    '8498680611',
    '9781407129037',
    '1606865811',
    '9781417831739',
    '0545091020',
    '1338321919',
    '2266257226',
    '0545452392',
    '9781407153339',
    '9781407188935',
    '140712904X',
    '0545114071',
    '140711168X',
    '054531058X',
    '0545425115',
    '9781407139791',
    '9781407136189',
    '2266260774',
    '141041986X',
    '0606262288',
    '1987156587',
    '0545229936',
    '5271257940',
    '9780545626385',
    '9862131365',
    '1407109081',
    '0545626382',
    '9781407135281',
    '9780545229937',
    '9781407157863',
    '9786074001907',
    '2298027250',
    '8804716703',
    '9781760662103',
    '6050929998',
    '9786050929997',
    '9781594135873',
    '9351035964',
    '9788804672623',
    '4840146322',
    '1407192086',
    '9786055943639',
    '9781407133171',
    '0545405777',
    '1407136186',
    '1407132075',
    '1407135287',
    '8804672625',
    '9789862131367',
    '9788804632238',
    '0545471044',
    '9781407132082',
    '9781407191294',
    '6055943638',
    '9782266257220',
    '0439023483',
    '9782266182690',
    '9784840146319',
    '9781338321913',
    '9785271257940',
    '9781606865811',
    '8804632232',
    '8427225180',
    '1627656367',
    '9780545091022',
    '9789351035961',
    '9788184771695',
    '9789876091657',
    '9788372786371',
    '3841501346',
    '1407139797',
    '9780545310581',
    '9810844514',
    '9788498675399',
    '9781407192086',
    '9780545471046',
    '9780545405775',
    '9780545114073',
    '3789132187',
    '9780439023481',
    '0545791871',
    '1407132083',
    '1760662100',
    '8372783578',
    '9782266305754',
    '1407133179',
    '3125781531',
    '1407129031',
    '8427202121',
    '9786073807845',
    '9781407132075',
    '2266305751',
    '5271415201',
    '1411471040',
    '9780545425117',
    '8499327974',
    '1407196189',
    '1407188933',
    '1594135878',
    '9781407129044',
    '9781407196183',
    '2266182692',
    '9781742835754',
    '9781338334920',
    '1407153331',
    '0439023521',
    '9781407111681',
    '818477169X',
    '9782266260770',
    '1742835759',
    '9781484476826',
    '1407191292',
    '9789810844516',
    '7506351536',
    '9780545791878',
    '8372786372',
    '9781411471047',
    '9782298027259',
    '9788804716709',
    '8498675391',
    '8579800242',
    '9783789132186',
    '9788427202122',
    '9781407109084',
    '9784840146326',
    '6074001901',
    '9785271415203',
    '140719223X',
    '9781987156584',
    '1484476824',
    '9781627656368',
    '9788579800245',
  ],
  ratings_average: 4.0812325,
  ratings_count: 357,
  first_sentence: ['When I wake up, the other side of the bed is cold.'],
  publisher: [
    'Scholastic',
    'Molino',
    'Círculo de Lectores',
    'Klett Sprachen GmbH',
    'Scholastic Australia',
    'Lectorum Publications, Incorporated',
    'Oetinger Taschenbuch',
    'Scholastic Inc.',
    'Alberdania',
    'French and European Publications Inc',
    'Mediafakutorī',
    'Scholastic Press',
    'Pocket Jeunesse',
    'POCKET JEUNESSE',
    'Oetinger Friedrich GmbH',
    'Zuo jia chu ban she',
    'Mondadori',
    'Thorndike Press',
    'Editions France Loisirs',
    'Sterling Publishing Co., Inc.',
    'Pocket',
    'Scholastic, Incorporated',
    "Scholastic Children's Books",
    'Scholastic India',
    'Large Print Press',
    'scholastic audiobooks',
    'Estrella Polar',
    'Scholastic Audio',
    'Oceano Travesía',
    'NUEVO EXTREMO',
    'Perfection Learning',
    'Media Rodzina',
    'RBA',
    'Scholastic Corporation',
    'Oetinger Tasenbuch',
    'Da kuai wen hua chu ban gu fen you xian gong si',
    'CreateSpace Independent Publishing Platform',
    'Penguin Random House Grupo Editorial',
    'Scholastic Inc',
    'Turtleback',
    'Scholastic Singapore',
    'Astrelʹ',
    'Pegasus',
    'Rocco Jovens Leitores',
    'Oceano Travesía',
    'Da Kuai Wen Hua/ Tsai Fong Books',
    'carlo moscatiello ',
    'Éd. France loisirs',
    'AST',
    'Scholastic India Pvt. Ltd.',
    'Scholastic Audio Books',
    'ACT',
    'Dex Yayinevi',
  ],
  language: ['eng', 'spa', 'swe', 'fre', 'chi', 'pol', 'ger', 'jpn', 'rus'],
  author_key: ['OL1394359A'],
  author_name: ['Suzanne Collins'],
  person: [
    'Katniss Everdeen',
    'Peeta Mellark',
    'Gale Hawthorne',
    'Elmo',
    'President Snow',
    'Primrose Everdeen',
    'Effie',
    'Haymitch Abernathy',
    'Cinna',
    'Effie Trincket',
    'Rue',
    'Cato',
    'Foxface',
    'Clove',
    'Thresh',
    'Madge Undersee',
    'Mayor Undersee',
    'Venia',
    'Flavius',
    'Octavia',
    'Atala',
    'Glimmer',
    'Caesar Flickerman',
    'Claudius Templesmith',
    'Gamemakers',
    'Peacekeepers',
  ],
  place: [
    'Panem',
    'The Capitol',
    'The Pentagon',
    'District 12',
    'The nation of Panem and District 12',
  ],
  subject: [
    'severe poverty',
    'starvation',
    'oppression',
    'effects of war',
    'self-sacrifice',
    'Science fiction',
    'Apocalyptic fiction',
    'Dystopian fiction',
    'Fiction',
    'Juvenile works',
    'Novels',
    'Young adult works',
    'Juvenile fiction',
    'contensts',
    'Young adult fiction',
    'Game shows',
    'Television programs',
    'New York Times bestseller',
    'Contests',
    'nyt:series_books=2010-08-21',
    'Long Now Manual for Civilization',
    'Reality television programs',
    'Television game shows',
    'Survival',
    'Interpersonal relations',
    'Roman',
    'Amerikanisches Englisch',
    'Sisters',
    'Young women',
    'Dystopias',
    'Survival skills',
    'Blind',
    'Books and reading',
    'Reading Level-Grade 9',
    'Reading Level-Grade 8',
    'Reading Level-Grade 11',
    'Reading Level-Grade 10',
    'Reading Level-Grade 12',
    'Survival Stories',
    'Action & Adventure',
    "Children's fiction",
    'Survival, fiction',
    'Interpersonal relations, fiction',
    'Contests, fiction',
    'Television, fiction',
    'Large type books',
    'Future',
    'violent',
    'life risking',
    'bravery.',
    'Roman pour jeunes adultes',
    'Habiletés de survie',
    "Roman d'aventures",
    'Concours et compétitions',
    'Relations humaines',
    'Romans, nouvelles',
    'Émissions televiseés',
    'Spanish language materials',
    'Supervivencia',
    'Novela juvenil',
    'Relaciones humanas',
    'Programas de televisión',
    'Concursos',
    'Fantastische Erzahlung',
    'Fantastische Literatur',
    'Action and adventure fiction',
    'Contests Fiction',
    'Fictional Work',
    'Interpersonal relations Fiction',
    'Jeux télévisés Romans, nouvelles, etc. pour la jeunesse',
    'Reality television programs Fiction',
    'Reality television programs Juvenile fiction',
    'Romans',
    'Survival Fiction',
    'Survival skills Fiction',
    'Television game shows Juvenile fiction',
    'Television programs Fiction',
    'Émissions télévisées',
    'Novela',
    'Televisión',
    'Programas',
    'Competencias',
    'American fiction',
    'Translations into Chinese',
    'Chinese language materials',
    'Romans, nouvelles, etc. pour la jeunesse',
    'Literature and fiction, juvenile',
    'Short stories',
    'Fantasy fiction',
    'American literature, study and teaching',
    'Severe poverty',
    'Starvation',
    'Oppression',
    'Effects of war',
    'Self-sacrifice',
    'Contensts',
    'New york times bestseller',
    'Nyt:series_books=2010-08-21',
    'Long now manual for civilization',
    'Amerikanisches englisch',
    'Reading level-grade 9',
    'Reading level-grade 8',
    'Reading level-grade 11',
    'Reading level-grade 10',
    'Reading level-grade 12',
    'Survival stories',
    'Action & adventure',
    'Violent',
    'Life risking',
    'Bravery.',
  ],
  editions: {
    numFound: 104,
    start: 0,
    numFoundExact: true,
    docs: [
      {
        key: '/books/OL37079411M',
        title: 'The Hunger Games',
        language: ['eng'],
        publisher: ['Scholastic Press'],
        publish_date: ['2008-10'],
        isbn: ['9780439023481', '0439023483'],
      },
    ],
  },
}
